webpackJsonp([0],{291:function(e,a,t){"use strict";function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function r(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function s(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=t(2),l=t.n(i),o=t(14),c=t(21),d=t(39),m=t(64),p=t(295),u=t(297),h=t(296),E=t(301),g=t(298),v=t(300),N=t(299),f=function(){},b=function(e){function a(t){n(this,a);var s=r(this,e.call(this,t));return s.state={nameHasFocus:!0,ingredientsHasFocus:!0,stepsHasFocus:!0,servingsHasFocus:!0,prepTimeHasFocus:!0,cookingTimeHasFocus:!0},s.handleInputChange=s.handleInputChange.bind(s),s.removeInput=s.removeInput.bind(s),s.addInput=s.addInput.bind(s),s.addNewRecipe=s.addNewRecipe.bind(s),s.handleInputBlur=s.handleInputBlur.bind(s),s.handleInputFocus=s.handleInputFocus.bind(s),s}return s(a,e),a.prototype.handleInputChange=function(e){var a=e.target,t="radio"===a.type?a.checked:a.value,n=a.name,r=a.getAttribute("data-index")||0;this.props.dispatchAddFormUpdateInput({name:n,index:r,value:t})},a.prototype.addInput=function(e){this.props.dispatchAddFormAddInput(e.target.getAttribute("name"))},a.prototype.removeInput=function(e){var a=e.currentTarget,t=a.name,n=a.getAttribute("data-index")||0;this.props.dispatchAddFormRemoveInput({name:t,index:n})},a.prototype.handleInputBlur=function(e){var a;this.setState((a={},a[e.target.name+"HasFocus"]=!1,a))},a.prototype.handleInputFocus=function(e){var a;this.setState((a={},a[e.target.name+"HasFocus"]=!0,a))},a.prototype.addNewRecipe=function(){var e=this.props,a=e.name,t=e.desc,n=e.ingredients,r=e.steps,s=e.prepTime,i=e.cookingTime,l=e.price,o=e.type,c=e.season,d=e.servings,m=e.note,p=e.img,u=e.user;this.props.dispatchAddNewRecipe({name:a,desc:t,ingredients:n,steps:r,prepTime:s,cookingTime:i,price:l,type:o,season:c,servings:d,note:m,img:p},u)},a.prototype.render=function(){return l.a.createElement("main",{className:"add"},l.a.createElement(m.a,{page:"add"},"unknown"===this.props.user.id?l.a.createElement("div",{className:"add-form__user-error tooltip-container"},l.a.createElement("div",{className:"tooltip info-msg arrow-top arrow-right"},l.a.createElement("i",{className:"icon-ban"}),"Sélectionnez un utilisateur avant d","'","ajouter votre recette")):"",l.a.createElement(p.a,{value:this.props.name,updateName:this.handleInputChange,handleFocus:this.handleInputFocus,handleBlur:this.handleInputBlur,showError:!this.state.nameHasFocus&&!this.props.validState.name})),l.a.createElement("div",{className:"container add-form"},l.a.createElement("div",{className:"add-form__block"},l.a.createElement("p",{className:"add-form__title"},"Voulez-vous la décrire un peu plus ? ",l.a.createElement("em",null,"(optionnel)")),l.a.createElement("input",{className:"add-form-textfield",type:"text",name:"desc",value:this.props.desc,onChange:this.handleInputChange})),l.a.createElement("hr",null),l.a.createElement(v.a,{selectedType:this.props.type,updateSelectedType:this.handleInputChange}),l.a.createElement("hr",null),l.a.createElement(u.a,{listItems:this.props.ingredients,addListItem:this.addInput,removeListItem:this.removeInput,updateListItem:this.handleInputChange,handleBlur:this.handleInputBlur,handleFocus:this.handleInputFocus,buttonDisabled:!this.props.validState.ingredients,name:"ingredients",listLabels:["Quels ingrédients faut-il pour la préparer ?","Ajouter un ingrédient","Vérifiez votre liste d'ingrédients"],showError:!this.state.ingredientsHasFocus&&!this.props.validState.ingredients}),l.a.createElement("hr",null),l.a.createElement(E.a,{value:this.props.servings,updateServings:this.handleInputChange,handleBlur:this.handleInputBlur,handleFocus:this.handleInputFocus,showError:!this.state.servingsHasFocus&&!this.props.validState.servings}),l.a.createElement("hr",null),l.a.createElement(g.a,{selectedPrice:this.props.price,updateSelectedPrice:this.handleInputChange}),l.a.createElement("hr",null),l.a.createElement(N.a,{selectedSeason:this.props.season,updateSelectedSeason:this.handleInputChange}),l.a.createElement("hr",null),l.a.createElement(u.a,{listItems:this.props.steps,addListItem:this.addInput,removeListItem:this.removeInput,updateListItem:this.handleInputChange,handleBlur:this.handleInputBlur,handleFocus:this.handleInputFocus,buttonDisabled:!this.props.validState.steps,name:"steps",listLabels:["Quelles sont les étapes à suivre pour la préparer ?","Ajouter une étape","Vérifiez votre liste d'étapes"],showError:!this.state.stepsHasFocus&&!this.props.validState.steps}),l.a.createElement("hr",null),l.a.createElement(h.a,{prepTime:this.props.prepTime,cookingTime:this.props.cookingTime,updateTime:this.handleInputChange,handleBlur:this.handleInputBlur,handleFocus:this.handleInputFocus,showPrepError:!this.state.prepTimeHasFocus&&!this.props.validState.prepTime,showCookingError:!this.state.cookingTimeHasFocus&&!this.props.validState.cookingTime}),l.a.createElement("hr",null),l.a.createElement("div",{className:"add-form__block"},"image (add later)"),l.a.createElement("hr",null),l.a.createElement("div",{className:"add-form__block"},l.a.createElement("p",{className:"add-form__title"},"Quelques notes complémentaires ? ",l.a.createElement("em",null,"(optionnel)")),l.a.createElement("input",{className:"add-form-textfield",type:"text",name:"note",value:this.props.note,onChange:this.handleInputChange})),l.a.createElement("div",{className:"add-form__block"},l.a.createElement("button",{className:"button-large button-centered",disabled:!this.props.validState.isValidState||"unknown"===this.props.user.id,onClick:this.props.validState.isValidState&&"unknown"!==this.props.user.id?this.addNewRecipe:f},"Ajouter ma recette !"))))},a}(l.a.Component),_=function(e){var a=t.i(d.b)(e),n=e.curUser;return Object.assign({},e.addForm,{user:n,validState:a})};a.default=t.i(o.b)(_,{dispatchAddFormAddInput:c.d,dispatchAddFormRemoveInput:c.e,dispatchAddFormUpdateInput:c.f,dispatchAddNewRecipe:c.g})(b)},295:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.value,t=e.updateName,n=e.handleBlur,s=e.handleFocus,i=e.showError;return r.a.createElement("section",{className:"main-add"},r.a.createElement("h3",{className:"add-main__title"},"Quel est le nom de votre recette ?"),r.a.createElement("input",{type:"text",className:"main-search-bar"+(i?" input--invalid":""),value:a,onChange:t,onFocus:s,onBlur:n,autoFocus:!0,name:"name"}),i?r.a.createElement("div",{className:"add-form__name-error tooltip-container"},r.a.createElement("div",{className:"tooltip error-msg arrow-top"},r.a.createElement("i",{className:"icon-ban"}),"Renseignez un nom pour votre recette")):"")};a.a=s},296:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.prepTime,t=e.cookingTime,n=e.updateTime,s=e.handleBlur,i=e.handleFocus,l=e.showPrepError,o=e.showCookingError;return r.a.createElement("div",{className:"add-form__block"},l||o?r.a.createElement("div",{className:"tooltip-container add-form__time-error"},r.a.createElement("div",{className:"tooltip error-msg"},r.a.createElement("i",{className:"icon-ban"}),"Vérifiez les durées indiquées")):"",r.a.createElement("p",{className:"add-form__title"},"Combien de temps faut-il ..."),r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"add-form-image"},r.a.createElement("img",{src:"/public/cooking.png",alt:"preparation"})),r.a.createElement("div",{className:"add-form-col"},r.a.createElement("div",{className:"add-form-input-title"},"Pour la préparation ?"),r.a.createElement("input",{className:"add-form-numberfield"+(l?" input--invalid":""),id:"prep-time",type:"number",pattern:"[0-9]*",step:"5",name:"prepTime",value:a,onChange:n,onBlur:s,onFocus:i}),r.a.createElement("label",{htmlFor:"prep-time",className:"add-form-numberlabel"},"minutes")),r.a.createElement("div",{className:"add-form-col"},r.a.createElement("div",{className:"add-form-input-title"},"Pour la cuisson ?"),r.a.createElement("input",{id:"cooking-time",className:"add-form-numberfield"+(o?" input--invalid":""),type:"number",pattern:"[0-9]*",step:"5",name:"cookingTime",value:t,onChange:n,onBlur:s,onFocus:i}),r.a.createElement("label",{htmlFor:"cooking-time",className:"add-form-numberlabel"},"minutes")),r.a.createElement("div",{className:"add-form-image"},r.a.createElement("img",{src:"/public/pan.png",alt:"cooking"}))))};a.a=s},297:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.listItems,t=e.addListItem,n=e.removeListItem,s=e.updateListItem,i=e.buttonDisabled,l=e.name,o=e.listLabels,c=e.handleBlur,d=e.handleFocus,m=e.showError;return r.a.createElement("div",{className:"add-form__block"},m?r.a.createElement("div",{className:"tooltip-container add-form__"+l+"-error"},r.a.createElement("div",{className:"tooltip error-msg"},r.a.createElement("i",{className:"icon-ban"}),o[2])):"",r.a.createElement("p",{className:"add-form__title"},o[0]),a.map(function(e,t){var i="add-form-textfield"+(m&&0===e.length?" input--invalid":"");return r.a.createElement("div",{className:"flex-container",key:t},r.a.createElement("label",{className:"input-list__label",htmlFor:l+t},t+1),r.a.createElement("input",{className:i,type:"text",value:e,onChange:s,autoFocus:a.length===t+1&&0!==t,onFocus:d,onBlur:c,name:l,"data-index":t,id:l+t}),0!==t?r.a.createElement("button",{className:"input-list__remove","data-index":t,name:l,onClick:n},r.a.createElement("i",{className:"icon-remove"})):r.a.createElement("button",{className:"input-list__remove",style:{visibility:"hidden"}},r.a.createElement("i",{className:"icon-remove"})))}),r.a.createElement("button",{className:"button-outline button-centered",onClick:t,disabled:i,name:l},r.a.createElement("i",{className:"icon-plus",style:{paddingRight:"0.5rem"}})," ",o[1]))};a.a=s},298:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.selectedPrice,t=e.updateSelectedPrice;return r.a.createElement("div",{className:"add-form__block"},"Combien coûte-t-elle ?",r.a.createElement("div",{className:"flex-container"},r.a.createElement("input",{id:"price0",className:"hidden-input",type:"radio",name:"price","data-index":"0",onChange:t,checked:"0"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"price0"},r.a.createElement("span",null,r.a.createElement("i",{className:"icon-vcheap"})),"Bon marché"),r.a.createElement("input",{id:"price1",className:"hidden-input",type:"radio",name:"price","data-index":"1",onChange:t,checked:"1"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"price1"},r.a.createElement("span",null,r.a.createElement("i",{className:"icon-cheap"})),"Peu chère"),r.a.createElement("input",{id:"price2",className:"hidden-input",type:"radio",name:"price","data-index":"2",onChange:t,checked:"2"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"price2"},r.a.createElement("span",null,r.a.createElement("i",{className:"icon-exp"})),"Assez chère"),r.a.createElement("input",{id:"price3",className:"hidden-input",type:"radio",name:"price","data-index":"3",onChange:t,checked:"3"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"price3"},r.a.createElement("span",null,r.a.createElement("i",{className:"icon-vexp"})),"Chère")))};a.a=s},299:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.selectedSeason,t=e.updateSelectedSeason;return r.a.createElement("div",{className:"add-form__block"},"Quelle est la meilleure saison pour la cuisiner ?",r.a.createElement("div",{className:"flex-container"},r.a.createElement("input",{id:"season0",className:"hidden-input",type:"radio",name:"season","data-index":"0",onChange:t,checked:"0"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"season0"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-question icon-background"})),"Toutes"),r.a.createElement("input",{id:"season2",className:"hidden-input",type:"radio",name:"season","data-index":"2",onChange:t,checked:"2"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"season2"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-spring icon-background"})),"Printemps"),r.a.createElement("input",{id:"season3",className:"hidden-input",type:"radio",name:"season","data-index":"3",onChange:t,checked:"3"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"season3"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-summer icon-background"})),"Eté"),r.a.createElement("input",{id:"season4",className:"hidden-input",type:"radio",name:"season","data-index":"4",onChange:t,checked:"4"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"season4"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-autumn icon-background"})),"Automne"),r.a.createElement("input",{id:"season1",className:"hidden-input",type:"radio",name:"season","data-index":"1",onChange:t,checked:"1"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"season1"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-winter icon-background"})),"Hiver")))};a.a=s},300:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.selectedType,t=e.updateSelectedType;return r.a.createElement("div",{className:"add-form__block"},"De quel type de plat s'agit-il ?",r.a.createElement("div",{className:"flex-container"},r.a.createElement("input",{id:"type1",className:"hidden-input",type:"radio",name:"type","data-index":"1",onChange:t,checked:"1"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"type1"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-starter icon-background"})),"Entrée"),r.a.createElement("input",{id:"type2",className:"hidden-input",type:"radio",name:"type","data-index":"2",onChange:t,checked:"2"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"type2"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-main-course icon-background"})),"Plat principal"),r.a.createElement("input",{id:"type3",className:"hidden-input",type:"radio",name:"type","data-index":"3",onChange:t,checked:"3"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"type3"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-accomp icon-background"})),"Accompagnement"),r.a.createElement("input",{id:"type4",className:"hidden-input",type:"radio",name:"type","data-index":"4",onChange:t,checked:"4"===a}),r.a.createElement("label",{className:"add-form__radio-group",htmlFor:"type4"},r.a.createElement("span",{className:"icon-background-container"},r.a.createElement("i",{className:"icon-dessert icon-background"})),"Dessert")))};a.a=s},301:function(e,a,t){"use strict";var n=t(2),r=t.n(n),s=function(e){var a=e.value,t=e.updateServings,n=e.handleBlur,s=e.handleFocus,i=e.showError;return r.a.createElement("div",{className:"add-form__block"},i?r.a.createElement("div",{className:"tooltip-container add-form__servings-error"},r.a.createElement("div",{className:"tooltip error-msg"},r.a.createElement("i",{className:"icon-ban"}),"Vérifiez le nombre de persones indiqué")):"",r.a.createElement("p",{className:"add-form__title"},"Pour combien de personnes ?"),r.a.createElement("div",{className:"text-centered"},r.a.createElement("input",{className:"add-form-numberfield"+(i?" input--invalid":""),id:"servings",type:"number",pattern:"[0-9]*",step:"1",name:"servings",value:a,onChange:t,onBlur:n,onFocus:s}),r.a.createElement("label",{htmlFor:"servings",className:"add-form-numberlabel"},"personnes")))};a.a=s}});
//# sourceMappingURL=0.bundle.js.map